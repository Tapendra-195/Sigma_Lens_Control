#ifndef Message_h
#define Message_h

#include "Arduino.h"
#include "Constants.h"

class Message
{
public:
  Message(byte *messageBuffer);
  
  Message(byte messageClass, int sequenceNumber, byte messageType, const byte *body, int bodyLength);

  void prepForSending();
  
  uint16_t messageLength; //Legth of the message from Start Byte to the End Byte(contains checksum and everything between 0xF0 and 0x55)
  byte messageClass; 
  byte sequenceNumber; //Count sequence number for normal and set to 0 for initialization
  byte messageType;
  byte messageBuffer[MAX_BUFFER_SIZE] = {0}; //Contains message from 0xF0 to 0x55 but doesn't contain the(256 bytes long??)
  
private:
  //uint16_t checksum;
  uint16_t bodyLength; //length of the body of message(only body)
  void setHeader();
  void setFooter();
};

#endif
